<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
        integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/simple-keyboard@latest/build/css/index.css">
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col-6 mt-4">
                <input onfocus="onfocus" type="text" class="input form-control" id="calculatorValue"
                    aria-describedby="emailHelp">
                <div id="keyboard" class="simple-keyboard hg-theme-default hg-layout-default">
                    <div class="container">
                        <div style="min-height: 30px" onmousedown="mouseDown()" onmousemove="mouseDown()" onmouseup="mouseUp()" class="row " id="needToMouse">
                        
                        </div>
                        <div class="row my-1" id="allNum"></div>
                        <div class="row mb-1" id="allStr"></div>
                    </div>

                </div>
            </div>
        </div>

        <script>
            //onmousemove = function(e){console.log(`mouse location = X: ${e.x}, Y: ${e.y}`)};
           // onmousedown = function(e){console.log(`mouse location onmousedown = X: ${e.x}, Y: ${e.y}`)};
           // onmouseup = function(e){console.log(`mouse location onmouseup= X: ${e.x}, Y: ${e.y}`)};

            const mouseDown =()=>{ 
                //console.log("mouseDown",`mouse location onmousedown = X: ${e.x}, Y: ${e.y}`);
                console.log("mouseDown");
                let top= '';
                let left= '';
                onmousemove = (e)=>{left =e.x; top =e.y ;};
                onmousedown = (e)=>{
                    console.log(`mouse location onmousedown = X: ${e.x}, Y: ${e.y}`)
                    document.getElementById("keyboard").style.marginTop = `${top}px`;
                    document.getElementById("keyboard").style.marginLeft = `${left}px`;
                    
                    };
            }
            const mouseUp =()=>{
                console.log("mouseUp");
               // onmouseup = function(e){console.log(`mouse location onmouseup= X: ${e.x}, Y: ${e.y}`)};
               onmousedown = undefined;
              // onmousemove =undefined;
            }

            let arr = [
                { type: "num", value: 0 }, 
                { type: "num", value: 1 }, 
                { type: "num", value: 2 }, 
                { type: "num", value: 3 }, 
                { type: "num", value: 4 }, 
                { type: "num", value: 5 }, 
                { type: "num", value: 6 }, 
                { type: "num", value: 7 }, 
                { type: "num", value: 8 }, 
                { type: "num", value: 9 }, 
                { type: "str", value: "mohib" }, 
                { type: "str", value: "rony" }, 
                { type: "str", value: "mohib" },
                { type: "str", value: "mohib" },
                { type: "str", value: "mohib" },
                { type: "str", value: "mohib" },
                { type: "str", value: "mohib" },
                { type: "str", value: "mohib" },
                { type: "str", value: "mohib" },
                { type: "str", value: "mohib" },
                { type: "str", value: "mohib" },
                { type: "str", value: "mohib" },
                { type: "str", value: "mohib" },
                { type: "str", value: "mohib" },
                { type: "str", value: "mohib" },
                { type: "str", value: "mohib" },
                { type: "str", value: "mohib" },
                { type: "str", value: "mohib" },
                { type: "str", value: "mohib" },
                
            ];
            var buttonText = '';
            var buttonNum = '';
            arr.map(item => {
                if (item.type === "str") {
                    buttonText += `<div class="col px-0 mb-1"><button onclick="getData('${item.value}')" type="button" class="btn btn-light">${item.value} </button></div>`;
                } else {
                    buttonNum += `<div class="col px-1"><button onclick="getData('${item.value}')" type="button" class="btn btn-light btn-block">${item.value} </button></div>`;
                }
            });
            document.getElementById("allNum").innerHTML = buttonNum;
            document.getElementById("allStr").innerHTML = buttonText;
            const getData = (value) => {
                let existValue = document.getElementById("calculatorValue").value;
                let superscript = { 0: '\u2070', 1: '\u00B9', 2: '\u00B2', 3: '\u00B3', 4: '\u2074', 5: '\u2075', 6: '\u2076', 7: '\u2077', 8: '\u2078', 9: '\u2079' }
                let subscript = { 0: '\u2080', 1: '\u2081', 2: '\u2082', 3: '\u2083', 4: '\u2084', 5: '\u2085', 6: '\u2086', 7: '\u2087', 8: '\u2088', 9: '\u2089' }
                let isNum = Number(value);
                console.log(isNum);
                if (isNum || isNum == 0) {
                    document.getElementById("calculatorValue").value = `${existValue}${superscript[isNum]}`;
                } else {
                    document.getElementById("calculatorValue").value = `${existValue} ${value}`;
                }
            }
        </script>

</body>

</html>